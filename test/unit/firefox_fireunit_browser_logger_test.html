<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>JavaScript unit test file</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <script src="../../dist/jsunittest.js" type="text/javascript"></script>
  <script src="../../src/browser_logger.js" type="text/javascript"></script>
  
  <link rel="stylesheet" href="../assets/unittest.css" type="text/css" />
</head>
<body>

<div id="content">

  <div id="header">
    <h1>JavaScript unit test file</h1>
    <p>
      This file tests <strong>browser_logger.js</strong>.
    </p>
  </div>
  
  <div id="testlog-browser"></div>
  <div id="testlog-unknown-browser"></div>

  <!-- Put sample/test html here -->
  <div id="sample"></div>
</div>

<script type="text/javascript">
// <![CDATA[
if (typeof fireunit != "undefined" && fireunit) {
  new Test.Unit.Runner({
    setup: function() {
      this.queueResults = fireunit.queueResults();
      for (var i=0; i < this.queueResults.length; i++) this.queueResults.pop();
      // fireunit.testDone();
      this.logger = new JsUnitTest.Unit.BrowserLogger.FirefoxFireunitLogger(); 
    },
    "test that #forCurrentBrowser returns a browser logger": function() {
      this.assertNotNull(JsUnitTest.Unit.BrowserLogger.forCurrentBrowser());
    },
    "test that a passing test is logged as ok": function() {
      this.logger.ok(true, "passing test");
      var result = this.queueResults.shift();
      this.assert(result.pass);
    },
    "test that a failing test is logged as !ok": function() {
      this.logger.ok(false, "failing test");
      var result = this.queueResults.shift();
      this.assert(!result.pass);
      this.assertEqual('failing test', result.msg);
    }

    
    
    // setTimeout(function(){
    //     // Finish test
    //     fireunit.testDone();
    // }, 1000);
    


  }, {testLog: "testlog-browser"});
} else {
  // document.getElementById('testlog').innerHTML = 
  //   "<strong>Install FireFox add-on http://fireunit.org for these tests to be executed</strong>";
  // if (console && console.log) {
  //   console.log("Install FireFox add-on http://fireunit.org for these tests to be executed");
  // }
  new Test.Unit.Runner({
    "test that you need to run this in firefox": function() {
      this.info('Install FireFox add-on http://fireunit.org for these tests to be executed')
    }
  }, {testLog: "testlog-browser"});
}
new Test.Unit.Runner({
  setup: function() {
    this.logger = new JsUnitTest.Unit.BrowserLogger.NoBrowserSupportLogger(); 
  },
    
  "test that #finish method exists": function() {
    this.logger.ok(true, "passing test");
    this.logger.ok(false, "failing test");
  }
}, {testLog: "testlog-unknown-browser"});
// ]]>
</script>
</body>
</html>